---
import SearchIcon from "../../icons/SearchIcon.astro";

---

<div class="relative w-64 text-zinc-300 font-sans flex flex-row-reverse items-center mt-3 mb-4 justify-between px-4 gap-2">
  <div class="flex flex-row items-center gap-2 w-full bg-[#2c2c2c] rounded-full pl-2">
    <SearchIcon class="text-[#6b6b6b] cursor-pointer" />
    <input type="text" placeholder="Search" class="w-full py-2 rounded-full bg-[#2c2c2c] text-sm placeholder:text-[#a2acb4] focus:outline-none " />
  </div>
  <label class="relative inline-block z-20">
    <input type="checkbox" class="hidden peer" />
    <div class="flex items-center justify-center size-8 rounded-full cursor-pointer transition-all duration-100 hover:bg-zinc-600/30">
      <span class="absolute top-2.5 w-5 h-0.5 bg-zinc-400 rounded transition-all duration-300 peer-checked:rotate-45 peer-checked:top-1/2 
      peer-checked:translate-y-[-50%]"></span>
      <span class="absolute bottom-2.5 w-5 h-0.5 bg-zinc-400 rounded transition-all duration-300 peer-checked:rotate-[-45deg] 
      peer-checked:bottom-1/2 peer-checked:translate-y-[50%]"></span>
      <span class="absolute top-1/2 transform -translate-y-1/2 w-5 h-0.5 bg-zinc-400 rounded transition-all duration-300 peer-checked:opacity-0"></span>
    </div>

    <nav class="absolute top-11 left-0 w-72 p-2 bg-zinc-800/90 rounded-xl shadow-lg border 
    border-zinc-600 backdrop-blur-sm scale-95 opacity-0 invisible peer-checked:opacity-100 
    peer-checked:scale-100 peer-checked:visible transition-all duration-200">

      <ul class="text-sm">
        <li class="hover:bg-zinc-700 rounded-md px-4 py-2 cursor-pointer flex gap-2 items-center">
          Saved Messages
        </li>
        <li class="hover:bg-zinc-700 rounded-md px-4 py-2 cursor-pointer">Contacts</li>
        <li class="hover:bg-zinc-700 rounded-md px-4 py-2 cursor-pointer">My Stories</li>
        <li class="hover:bg-zinc-700 rounded-md px-4 py-2 cursor-pointer">Settings</li>

        <li class="flex items-center justify-between hover:bg-zinc-700 rounded-md px-4 py-2 cursor-pointer">
          <span>Night Mode</span>
          <input type="checkbox" class="accent-purple-500 scale-110" />
        </li>
        <li class="flex items-center justify-between hover:bg-zinc-700 rounded-md px-4 py-2 cursor-pointer">
          <span>Animations</span>
          <input type="range" class="accent-purple-500 scale-100 max-w-10" />
        </li>

        <li class="hover:bg-zinc-700 rounded-md px-4 py-2 cursor-pointer">Telegram Features</li>
        <li class="hover:bg-zinc-700 rounded-md px-4 py-2 cursor-pointer">Report a Bug</li>
        <li class="hover:bg-zinc-700 rounded-md px-4 py-2 cursor-pointer">Switch to K Version</li>
        <li class="hover:bg-zinc-700 rounded-md px-4 py-2 cursor-pointer">Install App</li>
        <li class="hover:bg-red-900/50 hover:text-white rounded-md px-4 py-2 cursor-pointer">
          <a href="/">
            Log out
          </a>
        </li>
      </ul>

      <div class="text-center text-xs text-zinc-500 mt-2">Telegram Web A 10.9.49</div>
    </nav>
  </label>
</div>


<style>
  input:checked + div span:nth-child(1) {
    top: 50%;
    transform: translateY(-50%) rotate(45deg);
  }
  input:checked + div span:nth-child(2) {
    bottom: 50%;
    transform: translateY(50%) rotate(-45deg);
  }
  input:checked + div span:nth-child(3) {
    transform: translateX(calc(-150% - 1.125em));
  }
  input:checked ~ nav {
    opacity: 1;
    visibility: visible;
    transform: scale(1);
  }
</style>
